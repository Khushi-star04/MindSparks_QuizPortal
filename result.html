<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Result</title>
  <style>
    body {
      background: #7c3aed !important;
      background: url('bgg.jpg') no-repeat center center/cover;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    /* Card styling */
    .result-card {
      text-align:center; 
      background: rgba(24, 23, 23, 0.8); 
      padding: 50px 40px; 
      border-radius:20px; 
      color:white; 
      width: 750px; 
      max-width: 90%; 
      box-shadow:0 8px 20px rgba(0,0,0,0.7);
      transition: transform 0.4s ease, box-shadow 0.4s ease, opacity 0.4s ease;
      opacity: 0;
      transform: scale(0.9);
      animation: zoomIn 0.6s ease forwards;
    }

    /* Hover effect */
    .result-card:hover {
      transform: scale(1.05);
      box-shadow: 0 12px 35px rgba(0,0,0,0.9);
    }

    /* Appear effect */
    @keyframes zoomIn {
      from {
        opacity: 0;
        transform: scale(0.8);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Bubble animation */
    .bubble {
      position: fixed;
      left: 50%;
      font-size: 2.5rem;
      pointer-events: none;
      opacity: 0.85;
      animation: floatBubble 3s linear forwards;
      z-index: 9999;
      will-change: transform, opacity;
    }

    @keyframes floatBubble {
      0% {
        transform: translate(-50%, 100vh) scale(1);
        opacity: 1;
      }
      80% {
        opacity: 1;
      }
      100% {
        transform: translate(-50%, -10vh) scale(1.3);
        opacity: 0;
      }
    }
  </style>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const bubbles = ["🥳", "😁", "🎊", "congratulations", "🎉", "👏", "🎈", "💐"];
      for (let repeat = 0; repeat < 5; repeat++) {
        bubbles.forEach((text, i) => {
          setTimeout(() => {
            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            bubble.innerText = text;
            bubble.style.left = `${30 + ((i + repeat * bubbles.length) % 6) * 10}%`;
            bubble.style.fontSize = text === "congratulations" ? "2.2rem" : "2.5rem";
            document.body.appendChild(bubble);
            setTimeout(() => bubble.remove(), 3000);
          }, (i + repeat * bubbles.length) * 350);
        });
      }
    });
  </script>
</head>
<body>
  <!-- Header -->
  <header style="position: fixed; top: 0; left: 0; width: 100%; background: black; display: flex; justify-content: space-between; align-items: center; padding: 15px 30px; z-index: 1000; box-sizing: border-box;">
    <!-- Logo -->
    <div style="font-size: 1.8rem; font-weight: bold; color: yellow;">
      MindSpark
    </div>
    <!-- Navigation Links -->
    <nav style="display: flex;">
      <a href="index.html" style="color: white; text-decoration: none; font-weight: bold; margin-right: 20px;">Home</a>
      <a href="about.html" style="color: white; text-decoration: none; font-weight: bold;">About</a>
    </nav>
  </header>

  <!-- Result Card -->
  <div class="result-card">
    <h1 style="margin-bottom: 20px; font-size:32px; font-weight:bold; color: gold;">🏆 Quiz Result 🏆</h1>
    <p id="score-text" style="font-size:20px; margin-bottom: 20px;"></p>
    <p style="font-size:18px; margin-bottom: 25px; color: #ffd700;">
      🎉 Great job! Keep learning and stay curious! 🚀
    </p>
    <button onclick="goHome()" 
            style="padding: 12px 25px; font-size:16px; font-weight:bold; 
                   border:none; border-radius:10px; background: gold; 
                   cursor:pointer; transition: all 0.3s ease;">
      ReStart Quiz
    </button>
  </div>

  <!-- Sparkle Effect Script -->
  <script>
    function createSparkle() {
      const sparkle = document.createElement('div');
      const colors = ['#ffd700', '#ff69b4', '#00eaff', '#fff', '#ff6347', '#7c3aed', '#00ff7f', '#ffb347'];
      const size = Math.random() * 8 + 6;
      sparkle.style.position = 'fixed';
      sparkle.style.left = Math.random() * 100 + 'vw';
      sparkle.style.top = Math.random() * 100 + 'vh';
      sparkle.style.width = size + 'px';
      sparkle.style.height = size + 'px';
      sparkle.style.borderRadius = '50%';
      sparkle.style.background = colors[Math.floor(Math.random() * colors.length)];
      sparkle.style.boxShadow = `0 0 ${size * 2}px ${sparkle.style.background}`;
      sparkle.style.opacity = Math.random() * 0.6 + 0.4;
      sparkle.style.pointerEvents = 'none';
      sparkle.style.zIndex = 9998;
      sparkle.style.transition = 'transform 2.5s linear, opacity 2.5s linear';
      document.body.appendChild(sparkle);
      setTimeout(() => {
        sparkle.style.transform = `translateY(-${Math.random() * 60 + 40}vh) scale(${Math.random() * 0.6 + 0.7})`;
        sparkle.style.opacity = 0;
      }, 50);
      setTimeout(() => sparkle.remove(), 2600);
    }
    setInterval(() => {
      for (let i = 0; i < 8; i++) createSparkle();
    }, 350);

    // Result text from localStorage
    const score = localStorage.getItem("quizScore");
    const total = localStorage.getItem("quizTotal");
    document.getElementById("score-text").innerText = `You scored ${score} out of ${total}! 🎯`;

    function goHome() {
      localStorage.removeItem("quizScore");
      localStorage.removeItem("quizTotal");
      window.location.href = "index.html";
    }
  </script>

  <!-- Confetti + Popper Sound -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <audio id="popSound" src="popper.mp3" preload="auto"></audio>
  <script>
    function launchConfetti() {
      confetti({
        particleCount: 200,
        spread: 120,
        origin: { y: 0.6 }
      });
    }

    function playPopper() {
      const sound = document.getElementById("popSound");
      sound.currentTime = 0;
      sound.play();
    }

    // Jab page load hoga
    window.onload = () => {
      launchConfetti();
      playPopper();
    };
  </script>
</body>
</html>